async function loadPosts() {
    const display = document.getElementById('featured-data');
    const WORKER_URL = "https://gestore-blog.simone-gariglio1.workers.dev/"; // Il tuo URL

    try {
        // Chiediamo al Worker la lista dei file (il Worker userÃ  il Token)
        const response = await fetch(WORKER_URL);
        if (!response.ok) throw new Error("Il Worker ha risposto con errore.");

        const files = await response.json();
        const jsonFiles = files.filter(f => f.name.endsWith('.json'));

        // Carichiamo i contenuti
        const promises = jsonFiles.map(f => fetch(f.download_url).then(res => res.json()));
        allPosts = await Promise.all(promises);
        allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));

        render(allPosts);
    } catch (err) {
        display.innerHTML = `<div class='error-msg'><b>Errore:</b><br>${err.message}</div>`;
    }
}